{% extends 'base.html.twig' %}
{% import 'project/macro.html.twig' as mProject %}

{% block title %}{{ project.name}}{% endblock %}
{% block page_title%}{% endblock %}
{% block page_subtitle %}{% endblock %}

{% block page_content %}
    <div class="row">
        <div class="col-md-8">
            {{ mProject.snippet(project, 0) }}
        </div>
        <div class="col-md-2">
            {% embed '@AdminLTE/Widgets/box-widget.html.twig' %}
                {% block box_title %}
                    {{ 'ControlPanel'|trans }}
                {% endblock  %}
                {% block box_body %}
                    <div class="btn-group-vertical" role="toolbar" aria-label="{{ 'ControlPanel'|trans }}">
                        <div class="btn-group-vertical" role="group" aria-label="{{ 'Tasks'|trans }}">
                            <a class="btn btn-default btn-secondary" href="{{ path('task.project_create', {'suffix':project.suffix}) }}">{{ 'Create_task'|trans }}</a>
                        </div>
                        <div class="btn-group-vertical" role="group" aria-label="{{ 'Projects'|trans }}">
                            <a class="btn btn-default btn-secondary" href="{{ path('project.edit', {'suffix':project.suffix}) }}">{{ 'Edit_project'|trans }}</a>
                            <button
                                    class="btn btn-secondary btn-danger need-confirm"
                                    data-action="{{ path('project.archive', {'suffix':project.suffix}) }}"
                                    data-text="{{ 'project.archive.confirm'|trans|nl2br }}"
                            >
                                {{ 'Archive'|trans }}
                            </button>
                        </div>
                    </div>
                {% endblock %}
            {% endembed %}
        </div>
    </div>
    <div class="row">
        <div class="col-md-10">
        {% embed '@AdminLTE/Widgets/box-widget.html.twig' %}
            {% import 'task/macro.html.twig' as mTask %}
            {% block box_title %}{{ 'Tasks'|trans }}{% endblock %}
            {% block box_body %}
                {{ mTask.table(tasks) }}
            {% endblock %}
        {% endembed %}
        </div>
    </div>
{% endblock %}