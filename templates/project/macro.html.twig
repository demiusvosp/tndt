{% macro badge(project, withName = true, link = true) %}
    {% if link %}
        <a class="invisible_link" href="{{ path('project.index', {'suffix': project.suffix}) }}">
    {% endif %}
    <i class="fa fa-tasks-alt"></i><b>{{ project.suffix }}</b>{% if withName %} - {{ project.name }}{% endif %}
    {% if link %}
        </a>
    {% endif %}
{% endmacro %}

{% macro snippet(project, descriptionLength = 100, link = true) %}
    {# @TODO подумать а удобнее он нам в виде макроса, или шаблона. Хотя с дргуой стороны, там где он нужен
      шаблоном сильно все меняется, может сделать шаблон, который сунуть в макрос или использовать отдельно (а это вобще законно)
    #}
    {% embed '@AdminLTE/Widgets/box-widget.html.twig' %}
        {% block box_title %}
            {#  почему-то не работает
            {% import _self as macros %}
            {{ macros.badge(project, withLink) }}
            #}
            {% if link %}
                <a class="invisible_link" href="{{ path('project.index', {'suffix': project.suffix}) }}">
            {% endif %}
            <i class="fa fa-tasks-alt"></i><b>{{ project.suffix }}</b> - {{ project.name }}
            {% if link %}
                </a>
            {% endif %}
        {% endblock %}
        {% block box_body %}
            <small>
                {{ (descriptionLength == 0) ? project.description : project.description|truncate(descriptionLength, true) }}
            </small>
            <hr>
        {% endblock %}
    {% endembed %}
{% endmacro %}
